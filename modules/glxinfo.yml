name: glxinfo
buildsystem: meson
config-opts:
  - --bindir=/app/mesa-demos
  - -Degl=disabled
  - -Dgles1=disabled
  - -Dgles2=disabled
  - -Dglut=disabled
  - -Dlibdrm=disabled
  - -Dosmesa=disabled
  - -Dvulkan=disabled
  - -Dwayland=disabled

  # Only feature required for `glxinfo`
  - -Dx11=enabled
post-install:
  - mv -v /app/mesa-demos/glxinfo /app/bin
sources:
  - type: archive
    url: https://archive.mesa3d.org/demos/mesa-demos-9.0.0.tar.xz
    sha256: 3046a3d26a7b051af7ebdd257a5f23bfeb160cad6ed952329cdff1e9f1ed496b
    x-checker-data:
      type: anitya
      project-id: 16781
      stable-only: true
      url-template: https://archive.mesa3d.org/demos/mesa-demos-$version.tar.xz
modules:
  - ../shared-modules/glu/glu-9.json
cleanup:
  - /mesa-demos
  - /share/mesa-demos
