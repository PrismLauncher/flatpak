name: gamemode
buildsystem: meson
config-opts:
  - -Dwith-sd-bus-provider=no-daemon
  - -Dwith-examples=false
post-install:
  # gamemoderun is installed for users who want to use wrapper commands
  # post-install is running inside the build dir, we need it from the source though
  - install -Dm755 ../data/gamemoderun -t /app/bin
sources:
  - type: archive
    dest-filename: gamemode.tar.gz
    url: https://api.github.com/repos/FeralInteractive/gamemode/tarball/1.8.2
    sha256: 2886d4ce543c78bd2a364316d5e7fd59ef06b71de63f896b37c6d3dc97658f60
    x-checker-data:
      type: json
      url: https://api.github.com/repos/FeralInteractive/gamemode/releases/latest
      version-query: .tag_name
      url-query: .tarball_url
      timestamp-query: .published_at
cleanup:
  - /include
  - /lib/pkgconfig
  - /lib/libgamemodeauto.a
